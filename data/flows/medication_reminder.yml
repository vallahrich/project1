flows:
  medication_reminder:
    description: "Set up medication reminders in Google Calendar"
    nlu_trigger:
      - intent: set_medication_reminder
    steps:
      - id: get_medication_name
        collect: medication_name
        description: "Name of the medication"
        utter: utter_ask_medication_name
      
      - id: get_reminder_time
        collect: reminder_time
        description: "Time for the reminder"
        utter: utter_ask_reminder_time
      
      - id: get_reminder_date
        collect: reminder_date
        description: "Start date for the reminder"
        utter: utter_ask_reminder_date
      
      - id: get_reminder_frequency
        collect: reminder_frequency
        description: "How often to remind"
        utter: utter_ask_reminder_frequency
      
      - id: create_reminder
        action: action_create_medication_reminder
        next:
          - if: "slots.return_value == 'success'"
            then:
              - action: utter_confirm_medication_reminder
                next: END
          - else:
              - action: utter_medication_reminder_failed
                next: END