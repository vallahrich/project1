version: "3.1"

intents:
  - check_email
  - select_email
  - navigate_email

slots:
  # Email collection slots
  emails:
    type: text
    influence_conversation: true
    mappings:
    - type: custom
  
  email_count:
    type: float
    influence_conversation: true
    mappings:
    - type: custom
  
  current_email_index:
    type: float
    influence_conversation: true
    mappings:
    - type: custom
  
  current_email_id:
    type: text
    influence_conversation: true
    mappings:
    - type: custom
  
  current_email_subject:
    type: text
    influence_conversation: true
    mappings:
    - type: custom
  
  current_email_sender:
    type: text
    influence_conversation: true
    mappings:
    - type: custom
  
  current_email_content:
    type: text
    influence_conversation: true
    mappings:
    - type: custom
  
  # Email interaction slots
  selected_email:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
    - type: from_llm
  
  email_action:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
    - type: from_llm
    
  navigation_direction:
    type: text
    influence_conversation: true
    mappings:
    - type: from_text
    - type: from_llm

responses:
  # Email listing/reading responses
  utter_no_new_mail:
  - text: "You don't have any new emails at the moment."
  
  utter_ask_selected_email:
  - text: "Which email would you like to read? You can select by number (e.g., '1'), mention the sender (e.g., 'Vincent's email'), or refer to the subject."
  
  # Email action responses
  utter_ask_email_action:
  - text: "What would you like to do with this email?\n1. Reply\n2. Mark as read\n3. Delete\n4. Apply label\n5. Next email\n6. Previous email\n7. Return to inbox"
  
  utter_no_email_selected:
  - text: "I don't have an email selected. Let's check your inbox first."
  
  utter_ask_navigation_direction:
  - text: "Would you like to see the next email or the previous one?"
  
  # Navigation-related responses
  utter_no_more_emails:
  - text: "You've reached the end of your emails. There are no more emails to display."
  
  utter_already_first_email:
  - text: "You're already at the first email. There are no previous emails to display."

  # Follow-up responses
  utter_ask_next_action:
  - text: "What would you like to do next?\n1. Return to inbox\n2. Check for new emails\n3. Go to next email\n4. Mark the original email as read"
  
  utter_email_marked_read:
  - text: "I've marked the email as read."
  
  # Error recovery messages
  utter_navigation_error:
  - text: "I'm having trouble navigating your emails. Let's check your inbox again to refresh the list."

actions:
  # Basic email actions
  - action_list_emails
  - action_read_selected_email
  - action_navigate_emails
  - validate_selected_email
  - action_delete_email
  - action_mark_as_read